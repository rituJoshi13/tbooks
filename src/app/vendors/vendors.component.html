<main class="home">
  <div class="home-head">
    <div class="home-head-inner">
      <div class="head-left">
        <img src="../../assets/images/main-logo.png" class="home-logo" />
        <h3>{{ companyName }}</h3>
      </div>
    </div>
  </div>
  <div class="home-body">
    <div class="home-body-inner">
      <div class="vendor-body">
        <div class="head-vendor">
          <h2>All Vendors</h2>
          <button class="orange-button" (click)="open(content)">Add Vendor</button>
        </div>

        <div class="grid-wrapper">
          <ag-grid-angular
            style="width: 100%; height: 100%"
            class="ag-theme-alpine"
            [rowData]="rowData"
            [gridOptions]="gridOptions"
            [modules]="modules"
            (gridReady)="onGridReady($event)"
            autoSizeAllColumns="true"
            (cellClicked)="onCellClicked($event)"
          ></ag-grid-angular>
        </div>
      </div>
      <div class="vendor-footer">
        <p>&copy; All rights reserved. tbooks.com</p>
      </div>
    </div>
  </div>
</main>

<ng-template #content let-modal>
  <div class="modal-header">
    <h2 class="modal-title" id="modal-basic-title"><strong>Vendor</strong> Profile</h2>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
  </div>
  <div class="modal-body">
    <form
      class="form"
      #vendorProfileForm="ngForm"
      (ngSubmit)="vendorProfileForm.form.valid && onSubmit()"
      novalidate
    >
      <div class="form-group">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="vendorProfileModel.vendor_name"
          name="vendorName"
          #vendorName="ngModel"
          required
          placeholder="Vendor Name"
        />
        <span
          class="text-danger"
          *ngIf="(vendorName.touched || vendorProfileForm.submitted) && vendorName.errors?.required"
        >
          Vendor name is required
        </span>
      </div>
      <div class="form-group">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="vendorProfileModel.gst_number"
          name="gstNumber"
          #gstNumber="ngModel"
          placeholder="GST Number"
        />
      </div>
      <div class="form-group">
        <select
          class="form-control"
          [(ngModel)]="vendorProfileModel.state"
          name="state"
          #state="ngModel"
          required
        >
          <option [ngValue]="undefined" disabled selected hidden>State</option>
          <option *ngFor="let states of allStates" [value]="states.state_id">
            {{ states.state_name }}
          </option>
        </select>
        <span
          class="text-danger"
          *ngIf="(state.touched || vendorProfileForm.submitted) && state.errors?.required"
        >
          State is required
        </span>
      </div>
      <div class="btn-container">
        <button type="submit" class="orange-button">Done</button>
      </div>
    </form>
  </div>
</ng-template>
